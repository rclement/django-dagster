{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}{{ title }} | {% trans 'Dagster' %}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'dagster:job_list' %}">{% trans 'Dagster' %}</a>
    {% block dagster_breadcrumbs %}{% endblock %}
</div>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<style>
    .dagster-nav {
        margin-bottom: 20px;
        padding: 8px 0;
    }
    .dagster-nav a {
        margin-right: 15px;
        padding: 5px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        text-decoration: none;
        color: var(--link-fg);
    }
    .dagster-nav a.active,
    .dagster-nav a:hover {
        background: var(--link-fg);
        color: #fff;
    }
    .dagster-table {
        width: 100%;
        border-collapse: collapse;
    }
    .dagster-table th,
    .dagster-table td {
        padding: 8px 12px;
        border-bottom: 1px solid var(--hairline-color);
        text-align: left;
    }
    .dagster-table th {
        background: var(--darkened-bg);
        font-weight: bold;
    }
    .dagster-table tr:hover {
        background: var(--darkened-bg);
    }
    .status-badge {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 3px;
        font-size: 11px;
        font-weight: bold;
        text-transform: uppercase;
    }
    .status-SUCCESS { background: #417505; color: white; }
    .status-FAILURE { background: #ae1c1c; color: white; }
    .status-CANCELED { background: #ae1c1c; color: white; }
    .status-STARTED, .status-STARTING { background: #2271b1; color: white; }
    .status-QUEUED, .status-NOT_STARTED, .status-MANAGED { background: #9e9e9e; color: white; }
    .status-CANCELING { background: #c47600; color: white; }
    .dagster-actions a,
    .dagster-actions button {
        margin-right: 8px;
    }
    .dagster-detail-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    .dagster-detail-table th {
        text-align: right;
        padding: 8px 12px;
        background: var(--darkened-bg);
        width: 200px;
        vertical-align: top;
    }
    .dagster-detail-table td {
        padding: 8px 12px;
    }
    .dagster-detail-table tr {
        border-bottom: 1px solid var(--hairline-color);
    }
    pre.dagster-config {
        background: var(--darkened-bg);
        padding: 12px;
        border-radius: 4px;
        overflow-x: auto;
        max-height: 400px;
        font-size: 12px;
    }
</style>
{% endblock %}

{% block content %}
<div id="content-main">
    <div class="dagster-nav">
        <a href="{% url 'dagster:job_list' %}"
           {% if request.resolver_match.url_name == 'job_list' %}class="active"{% endif %}>
            Jobs
        </a>
        <a href="{% url 'dagster:run_list' %}"
           {% if request.resolver_match.url_name == 'run_list' %}class="active"{% endif %}>
            Runs
        </a>
        <a href="{% url 'dagster:trigger_job' %}"
           {% if request.resolver_match.url_name == 'trigger_job' %}class="active"{% endif %}>
            Trigger Job
        </a>
    </div>
    {% block dagster_content %}{% endblock %}
</div>
{% endblock %}
