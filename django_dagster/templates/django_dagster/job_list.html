{% extends "django_dagster/base.html" %}
{% load i18n %}

{% block content_title %}<h1>{{ title }}</h1>{% endblock %}

{% block dagster_breadcrumbs %}
&rsaquo; {% trans 'Jobs' %}
{% endblock %}

{% block dagster_content %}
{% if jobs is not None %}
    {% if jobs %}
    <div id="changelist">
    <div class="results">
    <table id="result_list">
        <thead>
            <tr>
                <th scope="col" class="{% if current_sort == 'name' %}sorted ascending{% elif current_sort == '-name' %}sorted descending{% endif %}">
                    <div class="text">
                        {% if current_sort == 'name' %}
                        <a href="?o=-name">{% trans 'Job Name' %}</a>
                        {% else %}
                        <a href="?o=name">{% trans 'Job Name' %}</a>
                        {% endif %}
                    </div>
                </th>
                <th scope="col"><div class="text">{% trans 'Description' %}</div></th>
            </tr>
        </thead>
        <tbody>
            {% for job in jobs %}
            <tr>
                <th scope="row">
                    <a href="{% url 'admin:django_dagster_dagsterjob_change' job.name %}">{{ job.name }}</a>
                </th>
                <td>{{ job.description|default:"â€”" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
    </div>
    {% else %}
    <p>{% trans 'No jobs found. Make sure your Dagster instance has code locations loaded.' %}</p>
    {% endif %}
{% endif %}
{% endblock %}
